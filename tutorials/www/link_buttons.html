<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License,
Version 2.0 (the "License"); you may not use this file except in
compliance with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html>
<head>
<title>Link Buttons</title>
<link rel="stylesheet" href="tutorial.css">
<script src="http://java.com/js/deployJava.js"></script>

<!-- NOTE: Syntax highlighting script is LGPL -->
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js"></script>
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js"></script>
<link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css"/>
<script type="text/javascript">
    SyntaxHighlighter.all();
</script>
</head>
<body>
<h1>Link Buttons</h1>

<p>The following example demonstrates use of the <tt>LinkButton</tt> class in a Pivot application. Clicking the links allows the user to navigate between two "pages", each containing a single image:</p>

<script src="version.js"></script>
<script>
var attributes = {code:"org.apache.pivot.wtk.BrowserApplicationContext$HostApplet",
    archive:"lib/pivot-core-" + version + ".jar"
        + ",lib/pivot-wtk-" + version + ".jar"
        + ",lib/pivot-wtk-" + version + ".terra.jar"
        + ",lib/pivot-tutorials-" + version + ".jar",
    width:360,
    height:360,
    style:"border:solid 1px #999999"
};
var parameters = {application_class_name:"org.apache.pivot.wtk.ScriptApplication",
    codebase_lookup:false,
    java_arguments:"-Dsun.awt.noerasebackground=true -Dsun.awt.erasebackgroundonresize=true",
    startup_properties:"src=org/apache/pivot/tutorials/buttons/link_buttons.wtkx"
};
deployJava.writeAppletTag(attributes, parameters);
</script>

<p>The WTKX source for the example is below:</p>

<pre class="brush:xml">
&lt;Window title="Link Buttons" maximized="true"
    xmlns:wtkx="http://pivot.apache.org/wtkx"
    xmlns:content="org.apache.pivot.wtk.content"
    xmlns="org.apache.pivot.wtk"&gt;
    &lt;content&gt;
        &lt;CardPane wtkx:id="cardPane" selectedIndex="0" styles="{selectionChangeEffect:'horizontal_slide'}"&gt;
            &lt;BoxPane orientation="vertical" styles="{horizontalAlignment:'center', verticalAlignment:'center'}"&gt;
                &lt;ImageView image="org/apache/pivot/tutorials/IMG_0735_2.jpg"/&gt;
                &lt;LinkButton&gt;
                    &lt;buttonData&gt;
                        &lt;content:ButtonData text="Next" icon="@resultset_next.png"/&gt;
                    &lt;/buttonData&gt;

                    &lt;buttonPressListeners&gt;
                        &lt;wtkx:script&gt;
                        &lt;![CDATA[
                        function buttonPressed(button) {
                            cardPane.setSelectedIndex(1);
                        }
                        ]]&gt;
                        &lt;/wtkx:script&gt;
                    &lt;/buttonPressListeners&gt;
                &lt;/LinkButton&gt;
            &lt;/BoxPane&gt;

            &lt;BoxPane orientation="vertical" styles="{horizontalAlignment:'center', verticalAlignment:'center'}"&gt;
                &lt;ImageView image="org/apache/pivot/tutorials/IMG_0767_2.jpg"/&gt;
                &lt;LinkButton&gt;
                    &lt;buttonData&gt;
                        &lt;content:ButtonData text="Previous" icon="@resultset_previous.png"/&gt;
                    &lt;/buttonData&gt;

                    &lt;buttonPressListeners&gt;
                        &lt;wtkx:script&gt;
                        &lt;![CDATA[
                        function buttonPressed(button) {
                            cardPane.setSelectedIndex(0);
                        }
                        ]]&gt;
                        &lt;/wtkx:script&gt;
                    &lt;/buttonPressListeners&gt;
                &lt;/LinkButton&gt;
            &lt;/BoxPane&gt;
        &lt;/CardPane&gt;
    &lt;/content&gt;
&lt;/Window&gt;
</pre>

<p>This example uses the <tt>CardPane</tt> layout container. A card pane lays out its components like a stack of cards, only one of which is visible at a time. <tt>CardPane</tt> is discussed in more detail in the <a href="navigation_containers.html">Navigation Containers</a> section.</p>

<p>This example demonstrates another means of defining event handlers in WTKX: within an element that refers to a listener list property of its parent element. The <tt>&lt;buttonPressListeners&gt;</tt> element of each <tt>LinkButton</tt> contains script code that will be executed in response to a button press. In this case, the handlers simply set the selected index of the card pane is assigned to each link button. However, it is possible to define more complex logic in a handler declared this way, and element-based event handlers such as this are often used when the event logic is more complex than can be represented in a single line (such as might be used in an attribute-based handler).</p>

<p>Though it is not obvious from this example, other listener methods can also be defined within the same script block (if, for example, the <tt>ButtonPressListener</tt> interface declared additional methods). However, in such cases, callers are not required to provide implementations for all listener methods, only the ones they are interested in (similar to using an <tt>Adapter</tt> class in Java code).</p>

<p>Since all of the logic for this application is implemented in script, there is no Java source associated with this example.</p>

<p>Next: <a href="lists.html">Lists</a></p>
</body>
</html>
