<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License,
Version 2.0 (the "License"); you may not use this file except in
compliance with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html>
<head>
<title>Tab Panes</title>
<link rel="stylesheet" href="tutorial.css">
<script src="http://java.com/js/deployJava.js"></script>
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js"></script>
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js"></script>
<link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css"/>
<script type="text/javascript">
    SyntaxHighlighter.all();
</script>
</head>
<body>
<h1>Tab Panes</h1>

<p>Functionally, tab panes are similar to card panes in that they show only one of a collection of components at a time. Unlike card panes, tab panes include built-in support for navigating between the components, which are called "tabs". The following example demonstrates the use of the <tt>TabPane</tt> component:</p>

<script>
var attributes = {code:"org.apache.pivot.wtk.BrowserApplicationContext$HostApplet",
    archive:"lib/@project_name@-core-@version@.jar,lib/@project_name@-wtk-@version@.jar,lib/@project_name@-wtk-@version@.terra.jar,lib/@project_name@-tutorials-@version@.jar",
    width:680,
    height:480
};
var parameters = {application_class_name:"org.apache.pivot.tutorials.navigation.TabPanes",
    codebase_lookup:false
};
deployJava.writeAppletTag(attributes, parameters);
</script>

<p>The WTKX source that produces this example is as follows. The tab pane contains three tabs, each of which are flow panes containing bordered labels at different sizes. Like <tt>CardPane</tt>, the preferred size of a tab pane is the maximum of the preferred widths and heights of the tabs, plus the size of the area allocated to the tab navigation, and each tab is sized to fill the entire space allocated to the tabs. The tab pane itself is contained in a flow pane so that changes to its preferred size are easily visible.</p>

<p>Note that, like the <a href="forms.html">Form</a> container, <tt>TabPane</tt> defines attributes that a caller can set to customize the appearance of the tab. <tt>TabPane</tt> currently defines two attributes: "name" and "icon" (additional attributes may be added in the future to support closeable tabs or other such features). Also note that disabling a tab component also disables its corresponding tab button, preventing the user from navigating to that tab:</p>

<pre class="brush:xml">
&lt;Window title="Tab Panes" maximized="true"
    xmlns:wtkx="http://pivot.apache.org/wtkx"
    xmlns="org.apache.pivot.wtk"&gt;
    &lt;content&gt;
        &lt;TablePane styles="{padding:8, horizontalSpacing:6}"&gt;
            &lt;columns&gt;
                &lt;TablePane.Column width="1*"/&gt;
                &lt;TablePane.Column/&gt;
            &lt;/columns&gt;
            &lt;rows&gt;
                &lt;TablePane.Row height="1*"&gt;
                    &lt;Border styles="{padding:12}"&gt;
                        &lt;content&gt;
                            &lt;BoxPane&gt;
                                &lt;TabPane wtkx:id="tabPane"&gt;
                                    &lt;tabs&gt;
                                        &lt;BoxPane TabPane.icon="org/apache/pivot/tutorials/bell.png" TabPane.name="Bell"
                                            styles="{horizontalAlignment:'center', verticalAlignment:'center'}"&gt;
                                            &lt;Border&gt;
                                                &lt;content&gt;
                                                    &lt;Label text="240x180" preferredWidth="240" preferredHeight="180"
                                                        styles="{horizontalAlignment:'center', verticalAlignment:'center'}"/&gt;
                                                &lt;/content&gt;
                                            &lt;/Border&gt;
                                        &lt;/BoxPane&gt;

                                        &lt;BoxPane TabPane.icon="org/apache/pivot/tutorials/clock.png" TabPane.name="Clock"
                                            styles="{horizontalAlignment:'center', verticalAlignment:'center'}"&gt;
                                            &lt;Border&gt;
                                                &lt;content&gt;
                                                    &lt;Label text="320x240" preferredWidth="320" preferredHeight="240"
                                                        styles="{horizontalAlignment:'center', verticalAlignment:'center'}"/&gt;
                                                &lt;/content&gt;
                                            &lt;/Border&gt;
                                        &lt;/BoxPane&gt;

                                        &lt;BoxPane TabPane.icon="org/apache/pivot/tutorials/house.png" TabPane.name="House"
                                            styles="{horizontalAlignment:'center', verticalAlignment:'center'}"&gt;
                                            &lt;Border&gt;
                                                &lt;content&gt;
                                                    &lt;Label text="480x360" preferredWidth="480" preferredHeight="360"
                                                        styles="{horizontalAlignment:'center', verticalAlignment:'center'}"/&gt;
                                                &lt;/content&gt;
                                            &lt;/Border&gt;
                                        &lt;/BoxPane&gt;

                                        &lt;BoxPane TabPane.icon="org/apache/pivot/tutorials/star.png" TabPane.name="Star" enabled="false"/&gt;
                                    &lt;/tabs&gt;
                                    &lt;corner&gt;
                                        &lt;BoxPane wtkx:id="cornerBoxPane" styles="{horizontalAlignment:'right'}"&gt;
                                            &lt;TextInput/&gt;
                                        &lt;/BoxPane&gt;
                                    &lt;/corner&gt;
                                &lt;/TabPane&gt;
                            &lt;/BoxPane&gt;
                        &lt;/content&gt;
                    &lt;/Border&gt;

                    &lt;Border&gt;
                        &lt;content&gt;
                            &lt;BoxPane orientation="vertical" styles="{padding:4, spacing:6}"&gt;
                                &lt;Checkbox wtkx:id="collapsibleCheckbox" buttonData="Collapsible"/&gt;
                                &lt;Label text="Tab orientation:"/&gt;
                                &lt;RadioButton wtkx:id="horizontalRadioButton" buttonData="Horizontal" selected="true"
                                    group="tabOrientation"/&gt;
                                &lt;RadioButton wtkx:id="verticalRadioButton" buttonData="Vertical"
                                    group="tabOrientation"/&gt;
                            &lt;/BoxPane&gt;
                        &lt;/content&gt;
                    &lt;/Border&gt;
                &lt;/TablePane.Row&gt;
            &lt;/rows&gt;
        &lt;/TablePane&gt;
    &lt;/content&gt;
&lt;/Window&gt;
</pre>

<p>The default tab pane skin provides some styles for customizing the appearance and behavior of the tab pane: "collapsible" and "tabOrientation". The "collapsible" style is a boolean that controls how the tab pane responds to clicks on the tab buttons. When set to <tt>true</tt>, clicking on the selected tab causes the tab pane to "collapse" such that only the tab buttons remain visible. This is handy in situations where screen real estate is at a premium, or when the content of the tab pane may be only periodically relevant to the user but should still be conveniently accessible. The "tabOrientation" style controls how the buttons themselves are laid out - either horizontally or vertically.</p>

<p>The Java source for this example is as follows. It is fairly simple, consisting mostly of event handling code for the radio buttons and checkbox:</p>

<pre class="brush:java">
package org.apache.pivot.tutorials.navigation;

import org.apache.pivot.collections.Map;
import org.apache.pivot.wtk.Application;
import org.apache.pivot.wtk.Button;
import org.apache.pivot.wtk.ButtonStateListener;
import org.apache.pivot.wtk.Checkbox;
import org.apache.pivot.wtk.DesktopApplicationContext;
import org.apache.pivot.wtk.Display;
import org.apache.pivot.wtk.BoxPane;
import org.apache.pivot.wtk.Orientation;
import org.apache.pivot.wtk.RadioButton;
import org.apache.pivot.wtk.TabPane;
import org.apache.pivot.wtk.Window;
import org.apache.pivot.wtkx.WTKXSerializer;

public class TabPanes implements Application {
    private Window window = null;
    private TabPane tabPane = null;
    private Checkbox collapsibleCheckbox = null;
    private RadioButton horizontalRadioButton = null;
    private RadioButton verticalRadioButton = null;
    private BoxPane cornerBoxPane = null;

    public void startup(Display display, Map&lt;String, String&gt; properties)
        throws Exception {
        WTKXSerializer wtkxSerializer = new WTKXSerializer();
        window = (Window)wtkxSerializer.readObject(this, "tab_panes.wtkx");
        tabPane = (TabPane)wtkxSerializer.get("tabPane");
        collapsibleCheckbox = (Checkbox)wtkxSerializer.get("collapsibleCheckbox");
        horizontalRadioButton = (RadioButton)wtkxSerializer.get("horizontalRadioButton");
        verticalRadioButton = (RadioButton)wtkxSerializer.get("verticalRadioButton");
        cornerBoxPane = (BoxPane)wtkxSerializer.get("cornerBoxPane");

        ButtonStateListener checkboxStateListener = new ButtonStateListener() {
            public void stateChanged(Button button, Button.State previousState) {
                updateTabPane();
            }
        };

        collapsibleCheckbox.getButtonStateListeners().add(checkboxStateListener);

        ButtonStateListener radioButtonStateListener = new ButtonStateListener() {
            public void stateChanged(Button button, Button.State previousState) {
                if (button.isSelected()) {
                    updateTabPane();
                }
            }
        };

        horizontalRadioButton.getButtonStateListeners().add(radioButtonStateListener);
        verticalRadioButton.getButtonStateListeners().add(radioButtonStateListener);

        updateTabPane();

        window.open(display);
    }

    public boolean shutdown(boolean optional) {
        if (window != null) {
            window.close();
        }

        return false;
    }

    public void suspend() {
    }

    public void resume() {
    }

    private void updateTabPane() {
        tabPane.getStyles().put("collapsible", collapsibleCheckbox.isSelected());

        if (horizontalRadioButton.isSelected()) {
            tabPane.getStyles().put("tabOrientation", Orientation.HORIZONTAL);
            if (tabPane.getCorner() == null) {
                tabPane.setCorner(cornerBoxPane);
            }
        } else {
            tabPane.getStyles().put("tabOrientation", Orientation.VERTICAL);
            if (tabPane.getCorner() == cornerBoxPane) {
                tabPane.setCorner(null);
            }
        }
    }

    public static void main(String[] args) {
        DesktopApplicationContext.main(TabPanes.class, args);
    }
}
</pre>

<p>Note that this example also demonstrates the use of the tab pane corner component. For horizontally oriented tabs, this component appears in the upper right corner; for vertical tabs, it appears in the lower left. The corner component in this example is a flow pane containing a text input; it is hidden when the orientation is changed to vertical because the corner component itself is not rotated and would cause the button area to grow horizontally.</p>

<p>Next: <a href="accordions.html">Accordions</a></p>
</body>
</html>
